doctype html
html
  head
    meta(charset="UTF-8")
    style.
      body { font-family: Arial, sans-serif; background: #f8f9fa; padding: 20px; }
      .container { max-width: 700px; margin: auto; background: #fff; padding: 25px; border-radius: 8px; }
      .title { font-size: 22px; font-weight: bold; margin-bottom: 10px; color: #333; }
      .section-title { font-size: 18px; font-weight: bold; margin: 20px 0 8px; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
      .info-box { margin-bottom: 15px; }
      .info-box p { margin: 3px 0; }
      img.product-img { width: 120px; height: auto; border-radius: 8px; margin-right: 10px; }
      .label-img { width: 100%; max-width: 250px; margin: 10px 0; border: 1px solid #ccc; }

  body
    .container
      .title Your order is confirmed! ðŸŽ‰

      p Hello #{buyer.first_name} #{buyer.last_name},  
      p Thank you for your purchase on Pet Attix! Here are your order details:

      // ORDER DETAILS
      .section-title Order Details
      .info-box
        p Order ID: #{id}
        p Status: #{status.split("_").join(" ")}
        p Payment Status: #{paymentStatus.toUpperCase()}
        p Parcel ID: #{parcel_id}

      // SELLER DETAILS
      .section-title Seller Details
      .info-box
        p Name: #{sellerName}
        p Email: #{sellerEmail}

      // PRODUCT DETAILS
      .section-title Product Details
      .info-box
        p Name: #{productName}
        p Category: #{productCategory}
        p Condition: #{productCondition}
        p Description: #{productDescription}

        if productImages.length > 0
          p Product Images:
          each img in productImages
            img.product-img(src=`${process.env.BASE_URL}/${img.image}`)

      // PAYMENT BREAKDOWN
      .section-title Payment Breakdown
      .info-box
        p Currency: #{currency}
        p Product Price: #{productPrice} 
        p Protection Fee: #{productProtectionFee} 
        p Delivery Charge: #{deliveryCharge} 
        p Delivery Protection: #{deliveryProtectionFee} 
        p Total: #{total} 

      // DELIVERY INFO
      .section-title Delivery Address
      .info-box
        p Name: #{deliveryInfoName}
        p Address: #{deliveryAddress}
        p City: #{deliveryCity}
        p Postal Code: #{deliveryPostalCode}
        p Country: #{deliveryCountry}

      // PARCEL DETAILS
      .section-title Shipping & Tracking
      .info-box
        p Tracking Number: #{trackingNumber}
        p Shipping Method: #{shippingMethod}
        p Carrier: #{carrierCode}

        if parcelLabel.length > 0
          p Shipping Labels (A4/Normal Printer):
          each url in parcelLabel
            a(href=url target="_blank") View Label
            br

        if parcelDocuments.length > 0
          p Documents:
          each doc in parcelDocuments
            a(href=doc.link target="_blank") #{doc.type} (#{doc.size})
            br

      hr
      p Thank you for shopping with Pet Attix!
